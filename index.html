<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>خريطة J3an</title>

<!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>

<style>
body { margin:0; font-family: Arial, sans-serif; }
#map { height:100vh; width:100%; }
.leaflet-popup-content-wrapper {
    background: #111; color:white; border-radius: 12px;
}
.leaflet-popup-tip { background: #111; }
</style>
</head>
<body>

<div id="map"></div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<script>

// =======================
// 1️⃣ إنشاء الخريطة
// =======================
var map = L.map('map').setView([28.0, 7.0], 6);

// =======================
// 2️⃣ إضافة طبقة داكنة
// =======================
L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
    attribution: '&copy; OpenStreetMap contributors'
}).addTo(map);

// =======================
// 3️⃣ Polygon للولايات الشرقية
// =======================
var eastAlgeria = [
  [36.5, 6.0],   // شمال غرب
  [36.5, 11.5],  // شمال شرق
  [20.5, 11.5],  // جنوب شرق
  [20.5, 6.0]    // جنوب غرب
];

// رسم المنطقة
L.polygon(eastAlgeria, {
    color: "#16a34a",
    fillColor: "#16a34a",
    fillOpacity: 0.05
}).addTo(map);

// =======================
// 4️⃣ تظليل باقي الخريطة
// =======================
var worldBounds = [
  [-90, -180],
  [-90, 180],
  [90, 180],
  [90, -180]
];

L.polygon([worldBounds, eastAlgeria], {
    color: null,
    fillColor: "black",
    fillOpacity: 0.45,
    interactive: false
}).addTo(map);

// =======================
// 5️⃣ إضافة Marker لكل ولاية / مطعم
// =======================
var greenIcon = L.icon({
    iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-green.png',
    iconSize: [25, 41],
    iconAnchor: [12, 41],
    popupAnchor: [1, -34]
});

// أمثلة Marker
L.marker([36.7, 6.1], {icon: greenIcon})
  .addTo(map)
  .bindPopup("<b>مطعم في قسنطينة</b><br>تقييم 8.5/10");

L.marker([36.9, 7.8], {icon: greenIcon})
  .addTo(map)
  .bindPopup("<b>مطعم في عنابة</b><br>تقييم 9/10");

</script>

</body>
</html>
