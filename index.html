<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>J3an Map</title>

<!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
}

#map {
    height: 100vh;
    width: 100%;
}

/* تحسين مظهر الـ popup */
.leaflet-popup-content-wrapper {
    background: #111;
    color: white;
    border-radius: 12px;
}

.leaflet-popup-tip {
    background: #111;
}
</style>

</head>
<body>

<div id="map"></div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<script>

// =======================
// 1️⃣ إنشاء الخريطة
// =======================

var map = L.map('map', {
    minZoom: 6,
    maxZoom: 18
}).setView([28.0, 2.5], 6);


// =======================
// 2️⃣ إضافة خريطة داكنة
// =======================

L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
    attribution: '&copy; OpenStreetMap contributors',
    maxZoom: 19
}).addTo(map);


// =======================
// 3️⃣ تحديد حدود الجزائر
// =======================

var algeriaBounds = L.latLngBounds(
    [18.9, -8.7],   // الجنوب الغربي
    [37.3, 11.9]    // الشمال الشرقي
);

map.setMaxBounds(algeriaBounds);

map.on('drag', function() {
    map.panInsideBounds(algeriaBounds, { animate: false });
});


// =======================
// 4️⃣ دائرة خضراء خفيفة
// =======================

L.circle([28.0, 2.5], {
    radius: 1200000,
    color: '#16a34a',
    fillColor: '#16a34a',
    fillOpacity: 0.05
}).addTo(map);


// =======================
// 5️⃣ إنشاء Pin مخصص أخضر
// =======================

var greenIcon = L.icon({
    iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-green.png',
    shadowUrl: 'https://unpkg.com/leaflet@1.9.3/dist/images/marker-shadow.png',
    iconSize: [25, 41],
    iconAnchor: [12, 41],
    popupAnchor: [1, -34],
    shadowSize: [41, 41]
});

// مثال ماركر في الجزائر العاصمة
L.marker([36.7538, 3.0588], {icon: greenIcon})
    .addTo(map)
    .bindPopup("<b>مطعم تجريبي</b><br>تقييم 8.5 / 10");

</script>

</body>
</html>
